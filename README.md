ЗАПУСК ПРИЛОЖЕНИЯ:

1) скачиваем проект:
git clone https://gitflic.ru/project/afasv/studentapp.git
2) устанавливаем зависимости:
npm i
3) запускаем контейнеры Докер:
docker-compose up -d
4) выполняем миграции для создания таблиц в БД:
npx sequelize-cli db:migrate
или
npm run migr
5) запускаем приложение
npm run dev

КАК РАБОТАЕТ ПРИЛОЖЕНИЕ:
1) Приложение состоит из нескольких сервисов, каждый из которых выполняет собственную роль. Сервисы могут связываться друг с другом, запрашивая необходимую информацию.
По архитектуре похоже на архитектуру приложений, создаваемых на фреймворке NEST.js. Вместо системы внедрения зависимостей выполнен простейший контейнер, который регистрирует/возвращает экземпляр Сервиса методами reg() и get().

После запуска приложения, Сервис GradeLogService начинает прослушивать события от сервера NATS. Полезной нагрузкой события является информация об успеваемости/оценках студентов по различным предметам вида: {"data":{"personalCode":"2966FA629336","grade":5,"subject":"geography"}}.

Сервис GradeLog обращается к Сервисам StudentService и SubjectService за получением ID соответствующих Студента и Предмета. Те, в свою очередь, обращаются к БД. И если в Базе не существует соотв. данных, то производится запись и затем они возвращают ID. После чего Сервис GradeLogService производит запись в соотв. таблицу grades в БД.

Также, при успешной записи в БД, сервис GradeLogService испускает собственное событие "grade", на которое подписан сервис GradeStatistic, который производит расчёт "средней оценки", "максимальной оценки" и "количестве оценок" для соответсвующих Студента и Предмета и производит запись в таблицу grade-statistic базы данных

2) Также Приложение имеет 2 точки доступа через REST API.
2.1) API ручка 1: Лог оценок сортированный по дате. В тестовом задании указано, что сортировка должна быть по возрастанию. Здесь я задумался и не совсем понял, это значит каждая следующая запись должна быть старше (DESC) или, наоборот, каждая следующая запись более поздняя, а значит более свежая (ASC). Сейчас сделано ASC.
    GET /log?[pagination parameters]
    content-type: application/json
    Сервис: GradesLogService 
    Ответ:
    [
        {
            date:string // дата-время получения оценки в ISO-формате
            subject:string // код предмета
            grade:number // полученная оценка
            student: {
                personalCode:string // персональный код студента
                name:string // имя студента
                lastName:string // фамилия студента
            }
        },
        ...
    ]


2.2) API ручка 2: Статистика студента по всем предметам
    GET /statistic/:personalCode
    content-type: application/json
    Сервис: GradeStatisticService
    ответ:
    {
        student: {
            personalCode:string // персональный код студента
            name:string // имя студента
            lastName:string // фамилия студента
        },
        statistic: [ // массив инфы по предметам, включая те, по которым у студента не было оценок
            {
                subject:string // код предмета
                maxGrade:number // максимальная оценка
                minGrade:number // минималььная оценка
                avgGrade:number // средняя оценка (дробное число)
                totalGrades:number // всего получено оценок
            },
            ...
        ]
    }  

3) Для наглядности приложена схема проекта в формате .jpg

4) В дальнейшем, можно добавить таблицу "Группы", которая будет содержать перечень всех групп студентов. А, например, таблица "groups_assign" будет фиксироваться назначение/перевод Студентов в ту или Иную группу. Также можно создать таблицу "study_plan" - Учебный план, которая будет, ссылаясь на таблицы "Предметы" и "Группы", хранить информацию о том, сколько плановых часов обучения предусмотрено для определенной Группы по определенному Предмету.